<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM JavaScript</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">


</head>
<body>
    
    <button class="btn btn-primary" onclick="tambahKotak();">Tambah Kotak</button>

    <button class="btn btn-danger" onclick="hapusKotak();">Hapus Kotak Terakhir</button>

    <hr/>

    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label for="bg-color" class="form-label">Warna Latar Belakang: </label>
                    <input type="color" id="bg-color" class="form-control" onchange="changeBgColor(this.value);" />
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label for="font-color" class="form-label">Warna Latar Belakang: </label>
                    <input type="color" id="font-color" class="form-control" onchange="changeColor(this.value);" />
                </div>
            </div>
        </div>
    </div>



    <script>
        // membuat element h1
        var judul = document.createElement('h1');

        // menambahkan konten ke dalam elemen h1 
        // judul.innerHTML = "Belajar JavaScript";
        judul.textContent = "Belajar JavaScript";

        // menambahkan atribut id ke elemen h1
        judul.id = "judul";

        // menambahkan atribut class ke elemen h1
        judul.className = "merah";

        // menambahkan elemen h1 ke dalam body 
        document.body.append(judul);

        function tambahKotak () {
            let kotak = document.createElement('div');

            // menghitung jumlah kotak saat ini
            let counter = document.getElementsByClassName('kotak').length;

            kotak.id = `kotak-${counter + 1}`;

            kotak.className = "kotak w-50 h-50 bg-primary text-white";
            kotak.textContent = "Kotak " + Number(counter+1);

            // menambahkan css 
            kotak.style.minHeight = "100px";
            kotak.style.marginBottom = "20px";

            document.body.append(kotak);

            generateDeleteButton(counter + 1);

        }

        function generateDeleteButton (id) {
            let button = document.createElement('button');
            button.className = 'btn btn-hapus-'+ id +' btn-danger btn-sm pull-right';

            button.textContent = "Hapus";

            
            document.getElementById('kotak-'+id).append(button);
            
            // menambahkan event listener
            button.addEventListener('click', function(el){
                console.log(el.target);

                // document.getElementsByClassName(el.target).remove();                
            });
            
        }

        // function hapus
        function hapusKotak () {
            // console.log(id);
            let jumlahKotak = document.getElementsByClassName('kotak').length;

            document.getElementById('kotak-'+jumlahKotak).remove();
        }

        function changeBgColor(color) {
            document.body.style.background = color;
        }
        
        function changeColor(color) {
            document.body.style.color = color;
        }

    </script>

</body>
</html>